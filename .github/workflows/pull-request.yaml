# $schema: http://json.schemastore.org/github-workflow.json
name: pull-request

on:
  pull_request:
    branches:
      - main
  workflow_dispatch: {}

jobs:
  verify-github-workflows:
    uses: harmelodic/workflows/.github/workflows/verify-github-workflows.yaml@c44182353bc2aeb71553d51fd348063ac314d576

  verify-terraform-infrastructure:
    uses: harmelodic/workflows/.github/workflows/verify-terraform.yaml@c44182353bc2aeb71553d51fd348063ac314d576
    with:
      directory: infrastructure

# TODO: Verify `gitops-argo-cd` manifests.
# TODO: Verify skaffold file
# TODO: Verify `manifests` kustomization files
# TODO: Verify rendered `manifests` manifests.
